[pytest]
DJANGO_SETTINGS_MODULE = core.settings
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*
addopts =
    --cov=accounts
    --cov=subjects
    --cov=notifications
    --cov=reports
    --cov=common
    --cov-report=html
    --cov-report=term-missing
    --strict-markers
    -ra
testpaths = .

markers =
    unit: Unit tests for models and services
    integration: Integration tests for views and API endpoints
    permission: Permission and authentication tests
    signal: Django signal tests
    task: Celery task tests
    slow: Slow running tests
    critical: Critical endpoints tests from TESTING_GUIDE
    flujo_estudiante: Student flow tests (endpoints 11-17)
    flujo_profesor: Teacher flow tests (endpoints 18-22)
    flujo_integrado: Integrated flow tests showing complete workflows
